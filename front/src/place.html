<!DOCTYPE html>
<html>
  <head>
    <title>Place</title>
    <link rel="stylesheet" href="desktop.css" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      name="description"
      content="An online pixel canvas inspired by r/place."
    />
    <meta name="keywords" content="r/place, place, game, golang, canvas" />
    <link rel="preload" href="./place.png" as="fetch" crossorigin />
  </head>

  <body>
    <canvas
      id="viewport-canvas"
      class="transition"
      oncontextmenu="return false;"
    ></canvas>
    <div id="ui-wrapper">
      <p id="loading-p"></p>
      <p id="timer-p"></p>
      <p id="status-p" style="visibility: hidden">0 online</p>
      <div id="color-wrapper">
        <!-- Color picker -->
        <input id="color-picker" type="color" />
        <i id="place-color" class="place-color fa-solid fa-check"></i>
      </div>
      <p id="pos-wrapper"></p>
      <p id="team-wrapper"></p>
      <div id="popup"></div>
      <div id="zoom-wrapper">
        <button class="zoom-button" id="zoom-out">-</button>
        <button class="zoom-button" id="zoom-in">+</button>
      </div>
    </div>
    <button
      id="help-button"
      onclick="document.querySelector('#help-popup').style.visibility = 'visible';"
    >
      <p><i class="fa-sharp fa-regular fa-circle-question"></i></p>
    </button>
    <div id="help-popup" style="visibility: hidden">
      <div id="help-text-desktop">
        <p><strong>Left click</strong> to place a pixel.</p>
        <br />
        <p>
          Mousewheel or <strong>+</strong> and <strong>-</strong> to zoom
          in/out.
        </p>
        <br />
        <p><strong>Ctrl + Left click</strong> to pick a color.</p>
      </div>

      <div id="help-text-mobile">
        <p><strong>Touch</strong> to place a pixel.</p>
        <br />
        <p>
          <strong>Pinch</strong> or <strong>+</strong> and <strong>-</strong> to
          zoom in/out.
        </p>
        <br />
        <p><strong>Long press</strong> to select a color.</p>
        <br />
        <p><strong>You can only place pixels near your teammates.</p>
      </div>

      <button id="close-help-popup"><strong>Close.</strong></button>
    </div>
    <script type="module" src="js/place.js"></script>
    <script>
      document.querySelector("#close-help-popup").onclick = (e) => {
        document.querySelector("#help-popup").style.visibility = "hidden";
        e.preventDefault();
        e.stopImmediatePropagation();
        e.stopPropagation();
      };
    </script>
  </body>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</html>
